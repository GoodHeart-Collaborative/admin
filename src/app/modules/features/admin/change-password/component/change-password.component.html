<div class="change-password-page popup-ui">
  <div class="popup-header">
    <h3>Change Password</h3>
    <mat-icon class="close-icon" (click)="onCloseHandler()">close</mat-icon>
  </div>
  <div class="popup-content">
    <div class="popup-body">
      <form [formGroup]="changePasswordForm">
        <mat-form-field appearance="outline">
          <mat-label for="Old Password">Old Password</mat-label>
          <input matInput formControlName="oldPassword" placeholder="Old Password"
            [type]="hidePassword ? 'password' : 'text'">
          <mat-icon matSuffix (click)="hidePassword = !hidePassword" style="cursor: pointer">
            {{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
          <mat-error>{{getControl('oldPassword')|validate:'old password'}}</mat-error>
        </mat-form-field>

        <div class="new-password-cover">
          <mat-form-field class="new-password" appearance="outline">
            <mat-label for="">New Password</mat-label>
            <input matInput formControlName="password" placeholder="New Password"
              [type]="hidePassword ? 'password' : 'text'">
            <app-invalid-password-hint class="app-invalid-password-hint" [control]="getControl('password')"></app-invalid-password-hint>
            <mat-icon matSuffix (click)="hidePassword = !hidePassword" style="cursor: pointer">
              {{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
            <mat-error>{{getControl('password')|validate:'new password'}}</mat-error>
          </mat-form-field>
        </div>

        <div class="confirm-password-cover">
          <mat-form-field class="new-password" appearance="outline">
            <mat-label for="">Confirm Password</mat-label>
            <input matInput formControlName="confirmPassword" placeholder="Confirm Password"
              [type]="hideConfirmPassword ? 'password' : 'text'">
            <mat-icon class="info-icon app-invalid-password-hint" [matMenuTriggerFor]="menuConfirm"
              [ngStyle]="{'color': getControl('confirmPassword').invalid && getControl('confirmPassword').touched ? 'red': '#419ebb'}">
              info</mat-icon>
            <mat-icon matSuffix (click)="hideConfirmPassword = !hideConfirmPassword" style="cursor: pointer">
              {{hideConfirmPassword ? 'visibility_off' : 'visibility'}}</mat-icon>

            <mat-error>{{getControl('confirmPassword')|validate:'confirm password'}}</mat-error>
          </mat-form-field>
          <!-- <app-invalid-password-hint [control]="getControl('confirmPassword')"></app-invalid-password-hint> -->

          <mat-menu #menuConfirm="matMenu" class="password-hint-menu">
            <ul>
              <li class="fulfil">
                <mat-icon *ngIf="getControl('confirmPassword').invalid ">close</mat-icon>
                <mat-icon *ngIf="getControl('confirmPassword').valid">done</mat-icon> Confirm password must be same as
                new password.
              </li>
            </ul>
          </mat-menu>
        </div>
      </form>
    </div>
    <div class="popup-footer">
      <button mat-raised-button color="primary" type="button" (click)="changePassword()">Update Password</button>
    </div>
  </div>
</div>